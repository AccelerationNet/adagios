{% extends "base_status.html" %}

{% block title %}Status Overview{% endblock %}
{% block smallheader %}{% endblock %}
{% block adagios_hausinn %}
{% endblock %}
{% block largeheader %}Service Overview
{% endblock %}
{% block nav1 %}{{ block.super }}{% endblock %}
{% load adagiostags %}

{% block sidebar_outer %}
{% endblock %}

{% block content %}
    {% if objects %}

        {% for object in objects %}
            {% if object.children %}
                <div style="width: 20%; min-height: 65px;  border-style: groove; padding: 2px; margin: 10px" class="pull-left state_{{ object.worst_service_state }}">
                    <div style="color: black; font: bolder; text-align: center;">
                        <a href="">{{ object.alias }}</a>
                    </div>
                    <hr style="margin-top: 0px; margin-bottom: 2px;">
                    <div>
                        {% for child in object.children %}
                            <div style="border-color: #808080; {% if child.2 == 0 %} background-color: green;{% endif %}{% if child.2 == 1 %} background-color: yellow;{% endif %}{% if child.2 == 2 %} background-color: red;{% endif %}" title="{{ child.0 }} {{ child.1 }}"class="circle state_{{ child.3 }}"></div>
                        {% endfor %}

                    </div>

                </div>
            {% endif %}
        {% endfor %}
    {% else %}

        <div class="row-fluid">
            {% for host in hosts %}
                <div style="width: 20%; min-height: 65px;  border-style: groove; padding: 2px; margin: 10px" class="pull-left state_{{ host.state }}">
                    <div>
                        {{ host.name }}
                    </div>
                <hr style="margin-top: 0px; margin-bottom: 2px;">
                    <div>
                        {% for service in host.services %}
                            <div style="border-color: #808080; {% if service.state == 0 %} background-color: green;{% endif %}{% if service.state == 1 %} background-color: yellow;{% endif %}{% if service.state == 2 %} background-color: red;{% endif %}" title="{{ service.plugin_output }}"class="circle state_{{ service.state }}"></div>
                        {% endfor %}

                    </div>

                </div>
            {% endfor %}

        </div>
    {% endif %}
{% endblock %}


{% block sidebar %}
    <h5>Go to</h5>
    <ul class="nav nav-list">
        <li><a href="{% url status.views.status_hostgroup %}">Hostgroup View</a></li>
        <li><a href="{% url status.views.status %}">Service View</a></li>
        <li><a href="{% url status.views.test_livestatus %}">Test Livestatus</a></li>
    </ul>

{% endblock %}


{% block footer %} {{ block.super }} {% endblock %}