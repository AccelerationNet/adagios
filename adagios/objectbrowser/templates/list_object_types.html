{% extends "base.html" %}

{% block title %}List of object Types{% endblock %}
{% block footer %}
      <script type="text/javascript">
        //$("#objectoverview").dataTable();
      </script>
{% endblock %}
{% block content %}

      <div class="row">
        <div class="span4">
          <div class="">
            <h2 style="text-align: center">
              <i class="icon-th-large"></i> Object Overview
            </h2>
          </div>
        </div>
      </div>
{% if object_types %}

      <div class="row">
        <div class="span5">
	      <table class="span4" id="objectoverview">
	        <thead>
	          <tr>
		        <th>Object Type</th>
		        <th>Active</th>
		        <th>Inactive</th>
	          </tr>
	        </thead>
	        <tbody>
	{% for i in object_types %}
		      <tr class="{% cycle 'even' 'odd' %}">
			    <td><a href="search?object_type={{ i.name }}">{{ i.name }}</a></td>
			    <td><a href="search?object_type={{ i.name }}&register=1">{{ i.active }}</a></td>
			    <td><a href="search?object_type={{ i.name }}&register=0">{{ i.inactive }}</a></td>
		      </tr>
	{% endfor %}
	        </tbody>
          </table>
        </div>
      </div>

{% else %}
	  <p>List of object types not found </p>
{% endif %}

    <div class="row">
      <div class="span12">
        <h5>Most Recent Changes</h5>
        <table class="log">
          <thead>
            <th>Time</th>
            <th>User</th>
            <th>What</th>
          </thead>
          <tbody>

{% for logentry in gitlog %}
            <tr>
              <td>{{ logentry.authortime|date:"j M Y, H:i" }}</td>
              <td>{{ logentry.author }} &lt;{{ logentry.authoremail }}&gt;</td>
              <td>{{ logentry.comment }}</td>
            </tr>
{% endfor %}
          </tbody>
        </table>
      </div>
    </div>
{% endblock %}
